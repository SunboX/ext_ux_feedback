{"ts":1342021684762,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"/*!\n * Ext JS Library 4.0\n * Copyright(c) 2006-2011 Sencha Inc.\n * licensing@sencha.com\n * http://www.sencha.com/license\n */\n\nExt.define('MyDesktop.App', {\n    extend: 'Ext.ux.desktop.App',\n\n    requires: [\n        'Ext.window.MessageBox',\n\n        'Ext.ux.desktop.ShortcutModel',\n\n        'MyDesktop.SystemStatus',\n        'MyDesktop.VideoWindow',\n        'MyDesktop.GridWindow',\n        'MyDesktop.TabWindow',\n        'MyDesktop.AccordionWindow',\n        'MyDesktop.Notepad',\n        'MyDesktop.BogusMenuModule',\n        'MyDesktop.BogusModule',\n\n//        'MyDesktop.Blockalanche',\n        'MyDesktop.Settings',\n        \n        'Ux.feedback.FeedbackButton'\n    ],\n\n    init: function() {\n        // custom logic before getXYZ methods get called...\n\n        this.callParent();\n\n        // now ready...\n    },\n\n    getModules : function(){\n        return [\n            new MyDesktop.VideoWindow(),\n            //new MyDesktop.Blockalanche(),\n            new MyDesktop.SystemStatus(),\n            new MyDesktop.GridWindow(),\n            new MyDesktop.TabWindow(),\n            new MyDesktop.AccordionWindow(),\n            new MyDesktop.Notepad(),\n            new MyDesktop.BogusMenuModule(),\n            new MyDesktop.BogusModule()\n        ];\n    },\n\n    getDesktopConfig: function () {\n        var me = this, ret = me.callParent();\n\n        return Ext.apply(ret, {\n            //cls: 'ux-desktop-black',\n\n            contextMenuItems: [\n                { text: 'Change Settings', handler: me.onSettings, scope: me }\n            ],\n\n            shortcuts: Ext.create('Ext.data.Store', {\n                model: 'Ext.ux.desktop.ShortcutModel',\n                data: [\n                    { name: 'Grid Window', iconCls: 'grid-shortcut', module: 'grid-win' },\n                    { name: 'Accordion Window', iconCls: 'accordion-shortcut', module: 'acc-win' },\n                    { name: 'Notepad', iconCls: 'notepad-shortcut', module: 'notepad' },\n                    { name: 'System Status', iconCls: 'cpu-shortcut', module: 'systemstatus'}\n                ]\n            }),\n\n            wallpaper: 'wallpapers/desktop.jpg',\n            wallpaperStretch: true\n        });\n    },\n\n    // config for the start menu\n    getStartConfig : function() {\n        var me = this, ret = me.callParent();\n\n        return Ext.apply(ret, {\n            title: 'Don Griffin',\n            iconCls: 'user',\n            height: 300,\n            toolConfig: {\n                width: 100,\n                items: [\n                    {\n                        text:'Settings',\n                        iconCls:'settings',\n                        handler: me.onSettings,\n                        scope: me\n                    },\n                    '-',\n                    {\n                        text:'Logout',\n                        iconCls:'logout',\n                        handler: me.onLogout,\n                        scope: me\n                    }\n                ]\n            }\n        });\n    },\n\n    getTaskbarConfig: function () {\n        var ret = this.callParent();\n\n        return Ext.apply(ret, {\n            quickStart: [\n                { name: 'Accordion Window', iconCls: 'accordion', module: 'acc-win' },\n                { name: 'Grid Window', iconCls: 'icon-grid', module: 'grid-win' }\n            ],\n            trayItems: [\n                {\n                    xtype: 'feedbackButton',\n                    text: 'Give Feedback !',\n                    remoteUrl: 'server/sendFeedback.php',\n                    flex: 1,\n                    id: 'feedback-button',\n                    style: {\n                        background: 'yellow'\n                    },\n                    listener: {\n                        feedbackSuccess: function(){\n                            window.open('data/showFeedback.php');\n                        }\n                    }\n                },\n                { xtype: 'trayclock', flex: 1 }\n            ]\n        });\n    },\n\n    onLogout: function () {\n        Ext.Msg.confirm('Logout', 'Are you sure you want to logout?');\n    },\n\n    onSettings: function () {\n        var dlg = new MyDesktop.Settings({\n            desktop: this.desktop\n        });\n        dlg.show();\n    }\n});\n"]],"start1":0,"start2":0,"length1":0,"length2":4218}]],"length":4218}
